<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0a0a0f">
    <title>ğŸ¬ YouTube Edit Takip 2026</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Syne:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0a0f;
            --surface: #12121a;
            --surface2: #1a1a26;
            --border: rgba(255,255,255,0.07);
            --green: #00ff88;
            --green-dim: rgba(0,255,136,0.12);
            --red: #ff3355;
            --red-dim: rgba(255,51,85,0.12);
            --gold: #ffd700;
            --gold-dim: rgba(255,215,0,0.1);
            --blue: #4488ff;
            --blue-dim: rgba(68,136,255,0.12);
            --text: #e8e8f0;
            --muted: #555568;
            --accent: #00ff88;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: var(--bg);
            font-family: 'Syne', sans-serif;
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated background grid */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-image: 
                linear-gradient(rgba(0,255,136,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,255,136,0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            pointer-events: none;
            z-index: 0;
        }

        /* Glow orbs */
        body::after {
            content: '';
            position: fixed;
            top: -200px;
            right: -200px;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(0,255,136,0.06) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        .page {
            position: relative;
            z-index: 1;
            max-width: 1600px;
            margin: 0 auto;
            padding: 30px 24px;
        }

        /* â”€â”€â”€ HEADER â”€â”€â”€ */
        .header {
            display: grid;
            grid-template-columns: 1fr auto;
            align-items: start;
            gap: 20px;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 1px solid var(--border);
        }

        .header-left h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2.5rem, 6vw, 5rem);
            letter-spacing: 0.04em;
            line-height: 0.9;
            background: linear-gradient(135deg, #00ff88 0%, #4488ff 50%, #ff3355 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-left .subtitle {
            font-family: 'Space Mono', monospace;
            font-size: 0.75rem;
            color: var(--muted);
            letter-spacing: 0.2em;
            text-transform: uppercase;
            margin-top: 8px;
        }

        .year-badge {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 4rem;
            color: var(--surface2);
            letter-spacing: 0.1em;
            text-shadow: 0 0 40px rgba(0,255,136,0.1);
            position: relative;
        }
        .year-badge::after {
            content: '2026';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, var(--green) 0%, var(--blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            opacity: 0.15;
        }

        /* â”€â”€â”€ LIVE CLOCK STRIP â”€â”€â”€ */
        .clock-strip {
            display: flex;
            align-items: center;
            gap: 20px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 14px 24px;
            margin-bottom: 30px;
            font-family: 'Space Mono', monospace;
            overflow: hidden;
            position: relative;
        }

        .clock-strip::before {
            content: '';
            position: absolute;
            left: 0; top: 0; bottom: 0;
            width: 3px;
            background: var(--green);
            box-shadow: 0 0 12px var(--green);
        }

        .clock-label {
            font-size: 0.65rem;
            color: var(--muted);
            letter-spacing: 0.15em;
            text-transform: uppercase;
        }

        .clock-value {
            font-size: 1.6rem;
            color: var(--green);
            text-shadow: 0 0 20px rgba(0,255,136,0.4);
            letter-spacing: 0.05em;
        }

        .clock-divider {
            width: 1px;
            height: 30px;
            background: var(--border);
        }

        .clock-date-info {
            flex: 1;
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .clock-stat {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        /* â”€â”€â”€ STATS BAR â”€â”€â”€ */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            margin-bottom: 30px;
        }

        .stat-pill {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px 20px;
            position: relative;
            overflow: hidden;
            transition: border-color 0.3s, transform 0.2s;
        }

        .stat-pill:hover {
            transform: translateY(-2px);
            border-color: rgba(255,255,255,0.15);
        }

        .stat-pill::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 2px;
        }

        .stat-pill.green::before { background: var(--green); box-shadow: 0 0 10px var(--green); }
        .stat-pill.red::before { background: var(--red); box-shadow: 0 0 10px var(--red); }
        .stat-pill.gold::before { background: var(--gold); box-shadow: 0 0 10px var(--gold); }
        .stat-pill.blue::before { background: var(--blue); box-shadow: 0 0 10px var(--blue); }
        .stat-pill.purple::before { background: #aa66ff; box-shadow: 0 0 10px #aa66ff; }

        .stat-pill .label {
            font-size: 0.65rem;
            color: var(--muted);
            letter-spacing: 0.12em;
            text-transform: uppercase;
            margin-bottom: 6px;
            font-family: 'Space Mono', monospace;
        }

        .stat-pill .value {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.2rem;
            letter-spacing: 0.05em;
            line-height: 1;
        }

        .stat-pill.green .value { color: var(--green); }
        .stat-pill.red .value { color: var(--red); }
        .stat-pill.gold .value { color: var(--gold); }
        .stat-pill.blue .value { color: var(--blue); }
        .stat-pill.purple .value { color: #aa66ff; }

        .stat-pill .sub {
            font-size: 0.7rem;
            color: var(--muted);
            margin-top: 4px;
        }

        /* â”€â”€â”€ ANNUAL PROGRESS BAR â”€â”€â”€ */
        .progress-section {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px 24px;
            margin-bottom: 30px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 14px;
        }

        .progress-header h3 {
            font-size: 0.7rem;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            color: var(--muted);
            font-family: 'Space Mono', monospace;
        }

        .progress-header .pct {
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            color: var(--green);
        }

        .progress-bar-wrap {
            height: 6px;
            background: var(--surface2);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--green), var(--blue));
            border-radius: 3px;
            transition: width 0.6s ease;
            box-shadow: 0 0 10px rgba(0,255,136,0.4);
        }

        /* Month mini dots */
        .month-dots {
            display: flex;
            gap: 4px;
            align-items: center;
        }

        .month-dot-wrap {
            flex: 1;
            text-align: center;
        }

        .month-dot-label {
            font-family: 'Space Mono', monospace;
            font-size: 0.5rem;
            color: var(--muted);
            letter-spacing: 0.05em;
            text-transform: uppercase;
            margin-bottom: 4px;
            display: block;
        }

        .month-dot {
            height: 4px;
            border-radius: 2px;
            transition: all 0.3s;
        }

        .month-dot.done { background: var(--green); box-shadow: 0 0 6px var(--green); }
        .month-dot.partial { background: var(--blue); }
        .month-dot.empty { background: var(--surface2); }
        .month-dot.current { background: var(--gold); box-shadow: 0 0 6px var(--gold); }

        /* â”€â”€â”€ VIEW TABS â”€â”€â”€ */
        .view-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
        }

        .tab-btn {
            font-family: 'Space Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            padding: 10px 20px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: var(--surface);
            color: var(--muted);
            cursor: pointer;
            transition: all 0.2s;
        }

        .tab-btn:hover {
            color: var(--text);
            border-color: rgba(255,255,255,0.2);
        }

        .tab-btn.active {
            background: var(--green);
            color: #000;
            border-color: var(--green);
            box-shadow: 0 0 20px rgba(0,255,136,0.3);
        }

        /* â”€â”€â”€ MONTH SELECTOR â”€â”€â”€ */
        .month-nav {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
        }

        .month-nav-btn {
            width: 40px; height: 40px;
            border-radius: 50%;
            border: 1px solid var(--border);
            background: var(--surface);
            color: var(--text);
            font-size: 1.1rem;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.2s;
        }

        .month-nav-btn:hover {
            border-color: var(--green);
            color: var(--green);
            box-shadow: 0 0 12px rgba(0,255,136,0.2);
        }

        .month-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2rem;
            letter-spacing: 0.1em;
            background: linear-gradient(90deg, var(--green), var(--blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .month-year {
            font-family: 'Space Mono', monospace;
            font-size: 0.75rem;
            color: var(--muted);
        }

        /* â”€â”€â”€ CALENDAR GRID VIEW â”€â”€â”€ */
        .cal-grid-view {
            display: none;
        }

        .cal-grid-view.active {
            display: block;
        }

        .cal-week-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            margin-bottom: 6px;
        }

        .cal-week-day {
            text-align: center;
            font-family: 'Space Mono', monospace;
            font-size: 0.6rem;
            letter-spacing: 0.1em;
            color: var(--muted);
            padding: 8px 4px;
            text-transform: uppercase;
        }

        .cal-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }

        .cal-day {
            aspect-ratio: 1;
            border-radius: 10px;
            border: 1px solid var(--border);
            background: var(--surface);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
            min-height: 60px;
        }

        .cal-day:hover:not(.empty-day) {
            border-color: rgba(255,255,255,0.2);
            transform: scale(1.05);
            z-index: 2;
        }

        .cal-day.empty-day {
            background: transparent;
            border-color: transparent;
            cursor: default;
        }

        .cal-day.today {
            border-color: var(--gold);
            box-shadow: 0 0 16px rgba(255,215,0,0.2);
        }

        .cal-day.done {
            background: var(--green-dim);
            border-color: rgba(0,255,136,0.3);
        }

        .cal-day.failed {
            background: var(--red-dim);
            border-color: rgba(255,51,85,0.3);
        }

        .cal-day.future {
            opacity: 0.4;
        }

        .cal-day .day-num {
            font-family: 'Space Mono', monospace;
            font-size: 0.85rem;
            font-weight: 700;
            line-height: 1;
        }

        .cal-day.today .day-num { color: var(--gold); }
        .cal-day.done .day-num { color: var(--green); }
        .cal-day.failed .day-num { color: var(--red); }

        .cal-day .day-icon {
            font-size: 1.1rem;
            line-height: 1;
        }

        .cal-day .day-pts {
            font-family: 'Space Mono', monospace;
            font-size: 0.55rem;
            color: var(--muted);
            margin-top: 2px;
        }

        .cal-day.done .day-pts { color: var(--green); }
        .cal-day.failed .day-pts { color: var(--red); }

        /* â”€â”€â”€ LIST VIEW â”€â”€â”€ */
        .list-view {
            display: none;
        }

        .list-view.active {
            display: block;
        }

        .day-list-item {
            display: grid;
            grid-template-columns: 80px 1fr auto auto;
            align-items: center;
            gap: 16px;
            padding: 14px 20px;
            border-radius: 10px;
            border: 1px solid var(--border);
            background: var(--surface);
            margin-bottom: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .day-list-item:hover {
            border-color: rgba(255,255,255,0.15);
            background: var(--surface2);
        }

        .day-list-item.done {
            border-left: 3px solid var(--green);
        }

        .day-list-item.failed {
            border-left: 3px solid var(--red);
        }

        .day-list-item.today {
            border-left: 3px solid var(--gold);
            background: var(--gold-dim);
        }

        .day-list-item .dl-date {
            font-family: 'Space Mono', monospace;
            font-size: 0.75rem;
            color: var(--muted);
        }

        .day-list-item .dl-num {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.3rem;
            letter-spacing: 0.05em;
        }

        .day-list-item.done .dl-num { color: var(--green); }
        .day-list-item.failed .dl-num { color: var(--red); }
        .day-list-item.today .dl-num { color: var(--gold); }

        .day-list-item .dl-status {
            font-family: 'Space Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 0.1em;
            color: var(--muted);
        }

        .day-list-item .dl-pts {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            text-align: right;
        }

        .day-list-item.done .dl-pts { color: var(--green); }
        .day-list-item.failed .dl-pts { color: var(--red); }

        /* â”€â”€â”€ ALL MONTHS OVERVIEW â”€â”€â”€ */
        .overview-view {
            display: none;
        }

        .overview-view.active {
            display: block;
        }

        .months-overview-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }

        .month-mini-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .month-mini-card:hover {
            border-color: rgba(255,255,255,0.2);
            transform: translateY(-3px);
        }

        .month-mini-card.current-month {
            border-color: var(--gold);
            box-shadow: 0 0 20px rgba(255,215,0,0.1);
        }

        .month-mini-name {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.3rem;
            letter-spacing: 0.08em;
            margin-bottom: 10px;
        }

        .month-mini-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            margin-bottom: 10px;
        }

        .month-mini-dot {
            aspect-ratio: 1;
            border-radius: 2px;
            background: var(--surface2);
        }

        .month-mini-dot.done { background: var(--green); }
        .month-mini-dot.failed { background: var(--red); }
        .month-mini-dot.today { background: var(--gold); }
        .month-mini-dot.empty { background: transparent; }

        .month-mini-stats {
            display: flex;
            justify-content: space-between;
            font-family: 'Space Mono', monospace;
            font-size: 0.6rem;
            color: var(--muted);
        }

        .month-mini-stats span { color: var(--green); }

        /* â”€â”€â”€ DAY MODAL â”€â”€â”€ */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .modal-overlay.open {
            opacity: 1;
            pointer-events: all;
        }

        .modal {
            background: var(--surface);
            border: 1px solid rgba(255,255,255,0.12);
            border-radius: 20px;
            padding: 36px;
            width: 420px;
            max-width: 90vw;
            position: relative;
            transform: translateY(20px) scale(0.95);
            transition: transform 0.3s;
        }

        .modal-overlay.open .modal {
            transform: translateY(0) scale(1);
        }

        .modal::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--green), transparent);
        }

        .modal-close {
            position: absolute;
            top: 16px; right: 16px;
            width: 32px; height: 32px;
            border-radius: 50%;
            border: 1px solid var(--border);
            background: var(--surface2);
            color: var(--muted);
            cursor: pointer;
            font-size: 1rem;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.2s;
        }

        .modal-close:hover {
            border-color: var(--red);
            color: var(--red);
        }

        .modal-date {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.5rem;
            letter-spacing: 0.08em;
            background: linear-gradient(90deg, var(--green), var(--blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 4px;
        }

        .modal-sub {
            font-family: 'Space Mono', monospace;
            font-size: 0.7rem;
            color: var(--muted);
            letter-spacing: 0.12em;
            text-transform: uppercase;
            margin-bottom: 28px;
        }

        .modal-status {
            padding: 14px 20px;
            border-radius: 12px;
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            text-align: center;
            margin-bottom: 24px;
            border: 1px solid;
        }

        .modal-status.done {
            background: var(--green-dim);
            border-color: rgba(0,255,136,0.3);
            color: var(--green);
        }

        .modal-status.failed {
            background: var(--red-dim);
            border-color: rgba(255,51,85,0.3);
            color: var(--red);
        }

        .modal-status.pending {
            background: var(--surface2);
            border-color: var(--border);
            color: var(--muted);
        }

        .modal-buttons {
            display: flex;
            gap: 12px;
            flex-direction: column;
        }

        .modal-btn {
            padding: 16px;
            border-radius: 12px;
            border: none;
            font-family: 'Space Mono', monospace;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .modal-btn:hover {
            transform: translateY(-2px);
        }

        .modal-btn.success {
            background: var(--green);
            color: #000;
            font-weight: 700;
            box-shadow: 0 0 20px rgba(0,255,136,0.3);
        }

        .modal-btn.success:hover {
            box-shadow: 0 0 30px rgba(0,255,136,0.5);
        }

        .modal-btn.fail {
            background: var(--red-dim);
            border: 1px solid rgba(255,51,85,0.3);
            color: var(--red);
        }

        .modal-btn.fail:hover {
            background: rgba(255,51,85,0.2);
        }

        .modal-btn.undo {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--muted);
            font-size: 0.75rem;
        }

        /* â”€â”€â”€ HEATMAP â”€â”€â”€ */
        .heatmap-view {
            display: none;
        }

        .heatmap-view.active {
            display: block;
        }

        .heatmap-container {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            overflow-x: auto;
        }

        .heatmap-months-label {
            display: flex;
            margin-bottom: 6px;
        }

        .heatmap-grid {
            display: flex;
            gap: 3px;
        }

        .heatmap-week-col {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .heatmap-cell {
            width: 14px;
            height: 14px;
            border-radius: 3px;
            background: var(--surface2);
            cursor: pointer;
            transition: transform 0.1s;
            position: relative;
        }

        .heatmap-cell:hover {
            transform: scale(1.4);
            z-index: 2;
        }

        .heatmap-cell.done { background: var(--green); }
        .heatmap-cell.failed { background: var(--red); opacity: 0.7; }
        .heatmap-cell.today { outline: 1px solid var(--gold); }
        .heatmap-cell.empty { background: transparent; cursor: default; }

        /* â”€â”€â”€ TOAST â”€â”€â”€ */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 14px 22px;
            border-radius: 10px;
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            letter-spacing: 0.05em;
            z-index: 200;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.success {
            background: var(--green);
            color: #000;
            box-shadow: 0 0 30px rgba(0,255,136,0.4);
        }

        .toast.error {
            background: var(--red);
            color: #fff;
            box-shadow: 0 0 30px rgba(255,51,85,0.4);
        }

        .toast.info {
            background: var(--surface2);
            border: 1px solid var(--border);
            color: var(--text);
        }

        /* â”€â”€â”€ RESPONSIVE â”€â”€â”€ */
        @media (max-width: 900px) {
            .stats-bar { grid-template-columns: repeat(3, 1fr); }
            .months-overview-grid { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 600px) {
            .header { grid-template-columns: 1fr; }
            .stats-bar { grid-template-columns: repeat(2, 1fr); }
            .months-overview-grid { grid-template-columns: repeat(2, 1fr); }
            .clock-strip { flex-wrap: wrap; gap: 10px; }
            .cal-day { min-height: 44px; }
            .cal-day .day-pts { display: none; }
            .day-list-item { grid-template-columns: 60px 1fr auto; }
            .day-list-item .dl-status { display: none; }
        }

        /* Scroll animation */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(16px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-in {
            animation: fadeInUp 0.5s ease forwards;
        }

        /* Pulse for today */
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255,215,0,0.4); }
            50% { box-shadow: 0 0 0 6px rgba(255,215,0,0); }
        }

        .cal-day.today {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>

<div class="page">

    <!-- HEADER -->
    <div class="header">
        <div class="header-left">
            <h1>ğŸ¬ YouTube Edit Takip</h1>
            <div class="subtitle">// 365 GÃœN â€” TAM YIL TAKVÄ°MÄ° â€” 2026</div>
        </div>
        <div class="year-badge">2026</div>
    </div>

    <!-- CLOCK STRIP -->
    <div class="clock-strip">
        <div class="clock-stat">
            <div class="clock-label">Gece YarÄ±sÄ±na Kalan</div>
            <div class="clock-value" id="mainClock">--:--:--</div>
        </div>
        <div class="clock-divider"></div>
        <div class="clock-date-info">
            <div class="clock-stat">
                <div class="clock-label">BugÃ¼n</div>
                <div style="font-family:'Space Mono',monospace; font-size:0.85rem; color:var(--text)" id="todayLabel">â€”</div>
            </div>
            <div class="clock-divider"></div>
            <div class="clock-stat">
                <div class="clock-label">YÄ±lÄ±n GÃ¼nÃ¼</div>
                <div style="font-family:'Bebas Neue',sans-serif; font-size:1.2rem; color:var(--blue)" id="dayOfYear">â€”</div>
            </div>
        </div>
    </div>

    <!-- STATS BAR -->
    <div class="stats-bar">
        <div class="stat-pill green">
            <div class="label">Toplam Puan</div>
            <div class="value" id="statPoints">0</div>
            <div class="sub">Bu yÄ±l kazanÄ±lan</div>
        </div>
        <div class="stat-pill blue">
            <div class="label">Edit GÃ¼nleri</div>
            <div class="value" id="statDone">0</div>
            <div class="sub" id="statDonePct">/ 365 gÃ¼n</div>
        </div>
        <div class="stat-pill red">
            <div class="label">KaÃ§Ä±rÄ±lan</div>
            <div class="value" id="statFailed">0</div>
            <div class="sub">gÃ¼n ceza</div>
        </div>
        <div class="stat-pill gold">
            <div class="label">En Uzun Seri</div>
            <div class="value" id="statBestStreak">0</div>
            <div class="sub">gÃ¼n</div>
        </div>
        <div class="stat-pill purple">
            <div class="label">Mevcut Seri</div>
            <div class="value" id="statStreak">0</div>
            <div class="sub">gÃ¼n ğŸ”¥</div>
        </div>
    </div>

    <!-- ANNUAL PROGRESS -->
    <div class="progress-section">
        <div class="progress-header">
            <h3>// 2026 YÄ±llÄ±k Ä°lerleme</h3>
            <div class="pct" id="yearPct">0%</div>
        </div>
        <div class="progress-bar-wrap">
            <div class="progress-bar-fill" id="yearProgressBar" style="width:0%"></div>
        </div>
        <div class="month-dots" id="monthDots"></div>
    </div>

    <!-- VIEW TABS -->
    <div class="view-tabs">
        <button class="tab-btn active" onclick="switchTab('calendar')">ğŸ“… Takvim</button>
        <button class="tab-btn" onclick="switchTab('list')">ğŸ“‹ Liste</button>
        <button class="tab-btn" onclick="switchTab('overview')">ğŸ—“ Genel BakÄ±ÅŸ</button>
        <button class="tab-btn" onclick="switchTab('heatmap')">ğŸ”¥ IsÄ± HaritasÄ±</button>
    </div>

    <!-- â”€â”€â”€ CALENDAR VIEW â”€â”€â”€ -->
    <div id="view-calendar" class="cal-grid-view active">
        <div class="month-nav">
            <button class="month-nav-btn" onclick="changeMonth(-1)">â†</button>
            <div>
                <div class="month-title" id="calMonthTitle">OCAK</div>
                <div class="month-year">2026</div>
            </div>
            <button class="month-nav-btn" onclick="changeMonth(1)">â†’</button>
        </div>

        <div class="cal-week-header">
            <div class="cal-week-day">Pzt</div>
            <div class="cal-week-day">Sal</div>
            <div class="cal-week-day">Ã‡ar</div>
            <div class="cal-week-day">Per</div>
            <div class="cal-week-day">Cum</div>
            <div class="cal-week-day">Cmt</div>
            <div class="cal-week-day">Paz</div>
        </div>

        <div class="cal-grid" id="calGrid"></div>
    </div>

    <!-- â”€â”€â”€ LIST VIEW â”€â”€â”€ -->
    <div id="view-list" class="list-view">
        <div class="month-nav">
            <button class="month-nav-btn" onclick="changeMonth(-1)">â†</button>
            <div>
                <div class="month-title" id="listMonthTitle">OCAK</div>
                <div class="month-year">2026</div>
            </div>
            <button class="month-nav-btn" onclick="changeMonth(1)">â†’</button>
        </div>
        <div id="listContainer"></div>
    </div>

    <!-- â”€â”€â”€ OVERVIEW VIEW â”€â”€â”€ -->
    <div id="view-overview" class="overview-view">
        <div class="months-overview-grid" id="overviewGrid"></div>
    </div>

    <!-- â”€â”€â”€ HEATMAP VIEW â”€â”€â”€ -->
    <div id="view-heatmap" class="heatmap-view">
        <div class="heatmap-container">
            <div style="font-family:'Space Mono',monospace;font-size:0.65rem;color:var(--muted);letter-spacing:0.1em;text-transform:uppercase;margin-bottom:16px">
                // 2026 TÃœM GÃœNLERÄ° â€” YeÅŸil: Edit yapÄ±ldÄ± Â· KÄ±rmÄ±zÄ±: KaÃ§Ä±rÄ±ldÄ± Â· SarÄ± Ã§erÃ§eve: BugÃ¼n
            </div>
            <div class="heatmap-grid" id="heatmapGrid"></div>
        </div>
    </div>

</div>

<!-- â”€â”€â”€ DAY MODAL â”€â”€â”€ -->
<div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
    <div class="modal">
        <button class="modal-close" onclick="closeModalDirect()">âœ•</button>
        <div class="modal-date" id="modalDate">1 Ocak</div>
        <div class="modal-sub" id="modalSub">CUMARTESÄ° Â· GÃœN 1/365</div>
        <div class="modal-status pending" id="modalStatus">HenÃ¼z iÅŸaretlenmedi</div>
        <div class="modal-buttons" id="modalButtons"></div>
    </div>
</div>

<!-- â”€â”€â”€ TOAST â”€â”€â”€ -->
<div class="toast" id="toast"></div>

<script>
// â”€â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const MONTHS_TR = ['Ocak','Åubat','Mart','Nisan','MayÄ±s','Haziran',
                   'Temmuz','AÄŸustos','EylÃ¼l','Ekim','KasÄ±m','AralÄ±k'];
const DAYS_TR = ['Pazar','Pazartesi','SalÄ±','Ã‡arÅŸamba','PerÅŸembe','Cuma','Cumartesi'];
const YEAR = 2026;

let dayData = {};       // 'YYYY-MM-DD' -> 1 (done) | -3 (failed)
let currentMonth = 0;  // 0-11
let activeTab = 'calendar';
let selectedDateKey = null;

function load() {
    const saved = localStorage.getItem('ytEditTracker2026');
    if (saved) {
        try { dayData = JSON.parse(saved); } catch(e) { dayData = {}; }
    }
}

function save() {
    localStorage.setItem('ytEditTracker2026', JSON.stringify(dayData));
}

// â”€â”€â”€ UTILITIES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function dateKey(y, m, d) {
    return `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
}

function getTodayKey() {
    const now = new Date();
    return dateKey(now.getFullYear(), now.getMonth(), now.getDate());
}

function getTurkeyNow() {
    return new Date(new Date().toLocaleString('en-US', { timeZone: 'Europe/Istanbul' }));
}

function getDayOfYear(date) {
    const start = new Date(date.getFullYear(), 0, 0);
    return Math.floor((date - start) / 86400000);
}

function getDaysInMonth(year, month) {
    return new Date(year, month + 1, 0).getDate();
}

function getFirstDayOfMonth(year, month) {
    let day = new Date(year, month, 1).getDay(); // 0=Sun
    return (day === 0) ? 6 : day - 1; // convert to Mon-based
}

// â”€â”€â”€ STATS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function computeStats() {
    let totalPoints = 0, done = 0, failed = 0;
    let currentStreak = 0, bestStreak = 0, tempStreak = 0;
    const todayKey = getTodayKey();

    // iterate all 365 days
    let prevKey = null;
    for (let m = 0; m < 12; m++) {
        const dim = getDaysInMonth(YEAR, m);
        for (let d = 1; d <= dim; d++) {
            const k = dateKey(YEAR, m, d);
            const v = dayData[k];
            if (k > todayKey) continue; // future
            if (v === 1) {
                totalPoints += 1;
                done++;
                tempStreak++;
                if (tempStreak > bestStreak) bestStreak = tempStreak;
            } else if (v === -3) {
                totalPoints -= 3;
                failed++;
                tempStreak = 0;
            }
        }
    }
    currentStreak = tempStreak;

    return { totalPoints, done, failed, currentStreak, bestStreak };
}

function updateStats() {
    const s = computeStats();
    const todayDoy = getDayOfYear(new Date());
    const donePct = todayDoy > 0 ? Math.round((s.done / Math.min(todayDoy, 365)) * 100) : 0;

    document.getElementById('statPoints').textContent = s.totalPoints;
    document.getElementById('statDone').textContent = s.done;
    document.getElementById('statDonePct').textContent = `/ 365 gÃ¼n (${donePct}%)`;
    document.getElementById('statFailed').textContent = s.failed;
    document.getElementById('statStreak').textContent = s.currentStreak;
    document.getElementById('statBestStreak').textContent = s.bestStreak;

    // Year progress
    const todayKey = getTodayKey();
    let daysCount = 0;
    for (let m = 0; m < 12; m++) {
        for (let d = 1; d <= getDaysInMonth(YEAR, m); d++) {
            if (dateKey(YEAR, m, d) <= todayKey) daysCount++;
        }
    }
    const yearPct = Math.round((daysCount / 365) * 100);
    document.getElementById('yearPct').textContent = yearPct + '%';
    document.getElementById('yearProgressBar').style.width = yearPct + '%';

    buildMonthDots();
}

function buildMonthDots() {
    const todayKey = getTodayKey();
    const container = document.getElementById('monthDots');
    container.innerHTML = '';

    for (let m = 0; m < 12; m++) {
        const dim = getDaysInMonth(YEAR, m);
        let doneDays = 0, totalDays = 0;
        let isCurrentMonth = false;

        for (let d = 1; d <= dim; d++) {
            const k = dateKey(YEAR, m, d);
            if (k === todayKey) isCurrentMonth = true;
            if (k <= todayKey) {
                totalDays++;
                if (dayData[k] === 1) doneDays++;
            }
        }

        const wrap = document.createElement('div');
        wrap.className = 'month-dot-wrap';

        const label = document.createElement('span');
        label.className = 'month-dot-label';
        label.textContent = MONTHS_TR[m].substring(0, 3).toLowerCase();

        const dot = document.createElement('div');
        dot.className = 'month-dot';

        if (isCurrentMonth) {
            dot.classList.add('current');
        } else if (totalDays === 0) {
            dot.classList.add('empty');
        } else if (doneDays === totalDays) {
            dot.classList.add('done');
        } else if (doneDays > 0) {
            dot.classList.add('partial');
        } else {
            dot.classList.add('empty');
        }

        wrap.appendChild(label);
        wrap.appendChild(dot);
        container.appendChild(wrap);
    }
}

// â”€â”€â”€ CLOCK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function updateClock() {
    const now = getTurkeyNow();
    const tomorrow = new Date(now);
    tomorrow.setDate(tomorrow.getDate() + 1);
    tomorrow.setHours(0, 0, 0, 0);
    const diff = tomorrow - now;
    const h = Math.floor(diff / 3600000);
    const m = Math.floor((diff % 3600000) / 60000);
    const s = Math.floor((diff % 60000) / 1000);
    document.getElementById('mainClock').textContent =
        `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;

    const dayNames = ['Pazar','Pazartesi','SalÄ±','Ã‡arÅŸamba','PerÅŸembe','Cuma','Cumartesi'];
    document.getElementById('todayLabel').textContent =
        `${dayNames[now.getDay()]}, ${now.getDate()} ${MONTHS_TR[now.getMonth()]}`;

    document.getElementById('dayOfYear').textContent = getDayOfYear(now) + '/365';
}

// â”€â”€â”€ TABS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function switchTab(tab) {
    activeTab = tab;
    document.querySelectorAll('.tab-btn').forEach((b, i) => {
        b.classList.toggle('active', ['calendar','list','overview','heatmap'][i] === tab);
    });
    document.querySelectorAll('[id^="view-"]').forEach(v => {
        v.classList.toggle('active', v.id === 'view-' + tab);
    });
    renderCurrentTab();
}

function renderCurrentTab() {
    if (activeTab === 'calendar') renderCalendar();
    else if (activeTab === 'list') renderList();
    else if (activeTab === 'overview') renderOverview();
    else if (activeTab === 'heatmap') renderHeatmap();
}

// â”€â”€â”€ MONTH NAVIGATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function changeMonth(dir) {
    currentMonth = Math.max(0, Math.min(11, currentMonth + dir));
    renderCurrentTab();
}

// â”€â”€â”€ CALENDAR RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function renderCalendar() {
    const todayKey = getTodayKey();
    const monthName = MONTHS_TR[currentMonth].toUpperCase();
    document.getElementById('calMonthTitle').textContent = monthName;
    document.getElementById('listMonthTitle').textContent = monthName;

    const grid = document.getElementById('calGrid');
    grid.innerHTML = '';

    const firstDay = getFirstDayOfMonth(YEAR, currentMonth);
    const daysInMonth = getDaysInMonth(YEAR, currentMonth);

    // Empty cells before
    for (let i = 0; i < firstDay; i++) {
        const empty = document.createElement('div');
        empty.className = 'cal-day empty-day';
        grid.appendChild(empty);
    }

    for (let d = 1; d <= daysInMonth; d++) {
        const k = dateKey(YEAR, currentMonth, d);
        const cell = document.createElement('div');
        cell.className = 'cal-day';

        if (k === todayKey) cell.classList.add('today');
        else if (k > todayKey) cell.classList.add('future');

        if (dayData[k] === 1) cell.classList.add('done');
        else if (dayData[k] === -3) cell.classList.add('failed');

        const icon = dayData[k] === 1 ? 'âœ“' : dayData[k] === -3 ? 'âœ•' : (k === todayKey ? 'ğŸ“' : '');
        const ptsText = dayData[k] === 1 ? '+1pt' : dayData[k] === -3 ? '-3pt' : '';

        cell.innerHTML = `
            <div class="day-num">${d}</div>
            ${icon ? `<div class="day-icon">${icon}</div>` : ''}
            ${ptsText ? `<div class="day-pts">${ptsText}</div>` : ''}
        `;

        if (k <= todayKey) {
            cell.onclick = () => openModal(k);
        }

        grid.appendChild(cell);
    }
}

// â”€â”€â”€ LIST RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function renderList() {
    const todayKey = getTodayKey();
    document.getElementById('listMonthTitle').textContent = MONTHS_TR[currentMonth].toUpperCase();
    const container = document.getElementById('listContainer');
    container.innerHTML = '';

    const daysInMonth = getDaysInMonth(YEAR, currentMonth);

    for (let d = 1; d <= daysInMonth; d++) {
        const k = dateKey(YEAR, currentMonth, d);
        const dateObj = new Date(YEAR, currentMonth, d);
        const dayName = DAYS_TR[dateObj.getDay()];

        if (k > todayKey) continue; // skip future

        const item = document.createElement('div');
        item.className = 'day-list-item';

        if (k === todayKey) item.classList.add('today');
        else if (dayData[k] === 1) item.classList.add('done');
        else if (dayData[k] === -3) item.classList.add('failed');

        const statusText = dayData[k] === 1 ? 'âœ“ YAPILDI' : dayData[k] === -3 ? 'âœ• YAPILMADI' : 'â€” BEKLÄ°YOR';
        const pts = dayData[k] === 1 ? '+1' : dayData[k] === -3 ? '-3' : '?';

        item.innerHTML = `
            <div class="dl-date">
                <div style="font-size:1rem;font-weight:700;color:var(--text)">${d}</div>
                <div>${dayName.substring(0,3).toUpperCase()}</div>
            </div>
            <div class="dl-num">${d} ${MONTHS_TR[currentMonth]}</div>
            <div class="dl-status">${statusText}</div>
            <div class="dl-pts">${dayData[k] ? pts : ''}</div>
        `;

        item.onclick = () => openModal(k);
        container.appendChild(item);
    }

    if (container.children.length === 0) {
        container.innerHTML = `<div style="text-align:center;color:var(--muted);padding:40px;font-family:'Space Mono',monospace;font-size:0.8rem">Bu ay iÃ§in henÃ¼z geÃ§miÅŸ gÃ¼n yok</div>`;
    }
}

// â”€â”€â”€ OVERVIEW RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function renderOverview() {
    const todayKey = getTodayKey();
    const grid = document.getElementById('overviewGrid');
    grid.innerHTML = '';

    const todayObj = new Date();
    const todayMonth = todayObj.getFullYear() === YEAR ? todayObj.getMonth() : -1;

    for (let m = 0; m < 12; m++) {
        const dim = getDaysInMonth(YEAR, m);
        const firstDay = getFirstDayOfMonth(YEAR, m);
        let doneCnt = 0, failedCnt = 0, totalPassed = 0;

        const card = document.createElement('div');
        card.className = 'month-mini-card';
        if (m === todayMonth) card.classList.add('current-month');

        const miniGrid = document.createElement('div');
        miniGrid.className = 'month-mini-grid';

        // Empty prefix
        for (let i = 0; i < firstDay; i++) {
            const dot = document.createElement('div');
            dot.className = 'month-mini-dot empty';
            miniGrid.appendChild(dot);
        }

        for (let d = 1; d <= dim; d++) {
            const k = dateKey(YEAR, m, d);
            const dot = document.createElement('div');
            dot.className = 'month-mini-dot';

            if (k === todayKey) dot.classList.add('today');
            else if (dayData[k] === 1) { dot.classList.add('done'); doneCnt++; }
            else if (dayData[k] === -3) { dot.classList.add('failed'); failedCnt++; }

            if (k <= todayKey) totalPassed++;

            miniGrid.appendChild(dot);
        }

        const completePct = totalPassed > 0 ? Math.round((doneCnt / totalPassed) * 100) : 0;

        card.innerHTML = `
            <div class="month-mini-name" style="color:${m===todayMonth?'var(--gold)':'var(--text)'}">${MONTHS_TR[m].toUpperCase()}</div>
        `;
        card.appendChild(miniGrid);
        card.innerHTML += `
            <div class="month-mini-stats">
                <span>${doneCnt}âœ“</span>
                <span style="color:var(--red)">${failedCnt}âœ•</span>
                <span style="color:${completePct>=80?'var(--green)':completePct>=50?'var(--blue)':'var(--muted)'}">${completePct}%</span>
            </div>
        `;

        card.onclick = () => {
            currentMonth = m;
            switchTab('calendar');
        };

        grid.appendChild(card);
    }
}

// â”€â”€â”€ HEATMAP RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function renderHeatmap() {
    const todayKey = getTodayKey();
    const grid = document.getElementById('heatmapGrid');
    grid.innerHTML = '';

    // Build all days of 2026 grouped by week column
    const allDays = [];
    for (let m = 0; m < 12; m++) {
        for (let d = 1; d <= getDaysInMonth(YEAR, m); d++) {
            allDays.push(dateKey(YEAR, m, d));
        }
    }

    // First day of 2026 is Thursday (day index 4), Monday-based = 3
    const startOffset = getFirstDayOfMonth(YEAR, 0); // Mon=0 offset

    // total cells = offset + 365
    const totalCells = startOffset + allDays.length;
    const totalWeeks = Math.ceil(totalCells / 7);

    for (let w = 0; w < totalWeeks; w++) {
        const col = document.createElement('div');
        col.className = 'heatmap-week-col';

        for (let day = 0; day < 7; day++) {
            const cellIndex = w * 7 + day;
            const dayIndex = cellIndex - startOffset;

            const cell = document.createElement('div');

            if (cellIndex < startOffset || dayIndex >= allDays.length) {
                cell.className = 'heatmap-cell empty';
            } else {
                const k = allDays[dayIndex];
                cell.className = 'heatmap-cell';
                if (k === todayKey) cell.classList.add('today');
                if (dayData[k] === 1) cell.classList.add('done');
                else if (dayData[k] === -3) cell.classList.add('failed');

                if (k <= todayKey) {
                    cell.title = k;
                    cell.onclick = () => openModal(k);
                }
            }

            col.appendChild(cell);
        }

        grid.appendChild(col);
    }
}

// â”€â”€â”€ MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function openModal(k) {
    selectedDateKey = k;
    const parts = k.split('-');
    const dateObj = new Date(parseInt(parts[0]), parseInt(parts[1])-1, parseInt(parts[2]));
    const dayName = DAYS_TR[dateObj.getDay()];
    const dayNum = dateObj.getDate();
    const monthName = MONTHS_TR[dateObj.getMonth()];
    const doy = getDayOfYear(dateObj);

    document.getElementById('modalDate').textContent = `${dayNum} ${monthName}`;
    document.getElementById('modalSub').textContent = `${dayName.toUpperCase()} Â· GÃœN ${doy}/365`;

    const statusEl = document.getElementById('modalStatus');
    const v = dayData[k];

    if (v === 1) {
        statusEl.className = 'modal-status done';
        statusEl.textContent = 'âœ“ Bu gÃ¼n edit yapÄ±ldÄ± Â· +1 puan';
    } else if (v === -3) {
        statusEl.className = 'modal-status failed';
        statusEl.textContent = 'âœ• Bu gÃ¼n edit yapÄ±lmadÄ± Â· -3 puan';
    } else {
        statusEl.className = 'modal-status pending';
        statusEl.textContent = 'HenÃ¼z iÅŸaretlenmedi';
    }

    const buttons = document.getElementById('modalButtons');
    buttons.innerHTML = '';

    if (!v) {
        const btnDone = document.createElement('button');
        btnDone.className = 'modal-btn success';
        btnDone.innerHTML = 'ğŸ¬ YaptÄ±m â€” +1 Puan';
        btnDone.onclick = () => markDay(k, 1);
        buttons.appendChild(btnDone);

        const btnFail = document.createElement('button');
        btnFail.className = 'modal-btn fail';
        btnFail.innerHTML = 'âœ• YapmadÄ±m â€” -3 Puan';
        btnFail.onclick = () => markDay(k, -3);
        buttons.appendChild(btnFail);
    } else {
        const btnUndo = document.createElement('button');
        btnUndo.className = 'modal-btn undo';
        btnUndo.innerHTML = 'â†¶ Ä°ÅŸareti KaldÄ±r';
        btnUndo.onclick = () => undoDay(k);
        buttons.appendChild(btnUndo);
    }

    document.getElementById('modalOverlay').classList.add('open');
}

function closeModal(e) {
    if (e.target.id === 'modalOverlay') closeModalDirect();
}

function closeModalDirect() {
    document.getElementById('modalOverlay').classList.remove('open');
}

function markDay(k, points) {
    dayData[k] = points;
    save();
    closeModalDirect();
    updateStats();
    renderCurrentTab();
    showToast(points === 1 ? 'ğŸ¬ Harika! +1 puan kazandÄ±n' : 'ğŸ˜¤ -3 puan. YarÄ±n telafi edersin!',
              points === 1 ? 'success' : 'error');
}

function undoDay(k) {
    delete dayData[k];
    save();
    closeModalDirect();
    updateStats();
    renderCurrentTab();
    showToast('â†¶ Ä°ÅŸaret kaldÄ±rÄ±ldÄ±', 'info');
}

// â”€â”€â”€ TOAST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

let toastTimeout;

function showToast(msg, type = 'info') {
    const t = document.getElementById('toast');
    clearTimeout(toastTimeout);
    t.textContent = msg;
    t.className = `toast ${type} show`;
    toastTimeout = setTimeout(() => { t.classList.remove('show'); }, 2800);
}

// â”€â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function init() {
    load();

    // Set current month to today's month if 2026
    const now = new Date();
    if (now.getFullYear() === YEAR) {
        currentMonth = now.getMonth();
    } else {
        currentMonth = 0;
    }

    updateStats();
    renderCurrentTab();
    updateClock();
    setInterval(updateClock, 1000);

    // keyboard shortcuts
    document.addEventListener('keydown', e => {
        if (e.key === 'Escape') closeModalDirect();
        if (e.key === 'ArrowLeft' && !document.getElementById('modalOverlay').classList.contains('open')) changeMonth(-1);
        if (e.key === 'ArrowRight' && !document.getElementById('modalOverlay').classList.contains('open')) changeMonth(1);
    });
}

init();
</script>
</body>
</html>
